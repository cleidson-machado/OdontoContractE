<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui">

	<p:dialog 	
				widgetVar="dialogo"
				header="Referencias - Cadastro" 
				draggable="false" 
				resizable="false" 
				modal="true"
				closeOnEscape="true" 
				closable="false" 
				appendTo="@(body)">

<h:form id="formCadastro" >

<h:panelGrid id="painel" columns="2">

	<p:outputLabel value="Nome:" />
	<p:inputText maxlength="50" 
					size="30" value="#{referenciaBean.referencia.nome}" />
	
	<p:outputLabel value="Contratante:" />
	<p:selectOneMenu 
					 filter="true"
					 filterMatchMode="contains" 
					 value="#{referenciaBean.referencia.contratante}"
					 converter="omnifaces.SelectItemsConverter" >
	
	<f:selectItem 	noSelectionOption="true" itemLabel="Selecione..." />
	<f:selectItems 	value="#{referenciaBean.contratantes}" 
					var="contratante"
					itemValue="#{contratante}" 
					itemLabel="#{contratante.nome} #{contratante.sobreNome}" />
	
	</p:selectOneMenu>				

</h:panelGrid>

	<h:panelGrid columns="2">
				<p:commandButton value="Salvar" 
								 actionListener="#{referenciaBean.salvar}"
								 update=":msgGlobal 
								 		 :formCadastro:painel 
								 		 :referenciaListForm:tabela" />
				
				<p:commandButton value="Fechar" 
								 oncomplete="PF('dialogo').hide();" />
	</h:panelGrid>

</h:form>

</p:dialog>	
                
</ui:composition>